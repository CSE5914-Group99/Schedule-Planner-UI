<div class="dialog-container">
  <div class="dialog-header">
    <h2>
      @if (isEdit()) {
        Edit Course
      } @else {
        Add Course
      }
    </h2>
    <button class="close-btn" (click)="onCancel()">Ã—</button>
  </div>

  <div class="dialog-body">
    <div class="form-group">
      <label for="courseId">Course ID <span class="required">*</span></label>
      <input
        type="text"
        id="courseId"
        class="form-control"
        placeholder="e.g., CSE2331"
        [value]="courseId()"
        (input)="courseId.set($any($event.target).value)"
      />
      <small>Enter the course code (e.g., CSE2331, MATH1151)</small>
    </div>

    <div class="form-group">
      <label for="title">Course Title</label>
      <input
        type="text"
        id="title"
        class="form-control"
        placeholder="e.g., Data Structures"
        [value]="title()"
        (input)="title.set($any($event.target).value)"
      />
      <small>Optional - defaults to course ID if not provided</small>
    </div>

    <div class="form-group">
      <label for="instructor">Instructor</label>
      <input
        type="text"
        id="instructor"
        class="form-control"
        placeholder="e.g., Dr. Smith"
        [value]="instructor()"
        (input)="instructor.set($any($event.target).value)"
      />
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="startTime">Start Time <span class="required">*</span></label>
        <input
          type="time"
          id="startTime"
          class="form-control"
          [value]="startTime()"
          (input)="startTime.set($any($event.target).value)"
        />
      </div>

      <div class="form-group">
        <label for="endTime">End Time <span class="required">*</span></label>
        <input
          type="time"
          id="endTime"
          class="form-control"
          [value]="endTime()"
          (input)="endTime.set($any($event.target).value)"
        />
      </div>
    </div>

    <div class="form-group">
      <label>Repeat Days <span class="required">*</span></label>
      <div class="days-selector">
        @for (day of allDays; track day) {
          <button
            type="button"
            class="day-btn"
            [class.selected]="isDaySelected(day)"
            (click)="toggleDay(day)"
          >
            {{ day.substring(0, 3) }}
          </button>
        }
      </div>
      <small>Select the days this course meets</small>
    </div>
  </div>

  <div class="dialog-footer">
    <div class="footer-left">
      @if (isEdit()) {
        <button class="btn delete-btn" (click)="onDelete()">Delete Course</button>
      }
    </div>
    <div class="footer-right">
      <button class="btn cancel-btn" (click)="onCancel()">Cancel</button>
      <button class="btn save-btn" (click)="onSave()">
        @if (isEdit()) {
          Update
        } @else {
          Add
        }
        Course
      </button>
    </div>
  </div>
</div>
